{"version":3,"sources":["webpack:///./src/api/node.js","webpack:///./src/views/command/CmdList.vue?5e12","webpack:///./src/views/command/CmdList.vue?4e41","webpack:///./src/views/command/modal/EditMod.vue?b315","webpack:///./src/utils/strReg.js","webpack:///src/views/command/modal/EditMod.vue","webpack:///./src/views/command/modal/EditMod.vue?068f","webpack:///./src/views/command/modal/EditMod.vue","webpack:///src/views/command/CmdList.vue","webpack:///./src/views/command/CmdList.vue?c053","webpack:///./src/views/command/CmdList.vue","webpack:///./src/api/command.js"],"names":["nodeApi","nodeList","nodeRemove","parameter","request","url","method","data","render","_vm","this","_h","$createElement","_c","_self","attrs","style","marginBottom","staticClass","_v","_s","onlineNodeCnt","nodes","length","cmdCount","cmdSuccess","cmdFailed","on","$event","showEdit","ref","columns","handleDataList","loadData","scopedSlots","_u","key","fn","text","slice","staticStyle","slot","copyTitle","directives","name","rawName","value","expression","arg","copyClick","record","execPage","logPage","deleteCmd","visible","mdl","isEdit","handleCancel","handleOk","staticRenderFns","confirmLoading","submitForm","cancel","form","formRule","span","model","callback","$$v","$set","ctx_question_title","minRows","maxRows","_l","v","kk","args","getCmdContextVar","str","patt","RegExp","mm","rets","match","i","split","hasOwnProperty","props","type","required","default","hasArgs","id","dir","context","watch","handler","nv","deep","immediate","nval","oval","methods","$refs","editMod","validate","valid","cmdUpdate","then","catch","finally","cmdCreate","resetFields","$emit","message","trigger","component","components","STable","EditMod","console","res","mounted","getNodeList","pageNo","pageSize","list","item","tabList","table","refresh","opation","$router","push","params","cmdDelete","setTimeout","title","dataIndex","customRender","align","cmdApi","cmdList","cmdExec","cmdLog","timeout"],"mappings":"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","file":"js/chunk-106b47bc.b9771802.js","sourcesContent":["import request from '@/utils/request'\n\nconst nodeApi = {\n  nodeList: 'node/list',\n  nodeRemove: 'node/remove'\n}\n\nexport function nodeList (parameter) {\n  return request({\n    url: nodeApi.nodeList,\n    method: 'post',\n    data: parameter\n  })\n}\n\nexport function nodeRemove (parameter) {\n  return request({\n    url: nodeApi.nodeRemove,\n    method: 'post',\n    data: parameter\n  })\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CmdList.vue?vue&type=style&index=0&id=6ba6bfea&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{style:({ marginBottom: '24px' }),attrs:{\"sm\":24,\"md\":12,\"xl\":6}},[_c('a-card',{staticClass:\"header-card\",attrs:{\"bordered\":false}},[_c('a-row',[_c('a-col',{attrs:{\"span\":18}},[_c('span',{staticClass:\"header-card-value\"},[_vm._v(_vm._s(_vm.onlineNodeCnt)+\"/\"+_vm._s(_vm.nodes.length))]),_c('br'),_c('span',{staticClass:\"header-card-title\"},[_vm._v(\"在线/总数\")]),_c('br'),_c('span',{staticClass:\"header-card-desc\"},[_vm._v(\"已注册的节点数\")])]),_c('a-col',{attrs:{\"span\":6}},[_c('a-icon',{staticClass:\"header-card-icon\",attrs:{\"type\":\"cloud-server\"}})],1)],1)],1)],1),_c('a-col',{style:({ marginBottom: '24px' }),attrs:{\"sm\":24,\"md\":12,\"xl\":6}},[_c('a-card',{staticClass:\"header-card\",attrs:{\"bordered\":false}},[_c('a-row',[_c('a-col',{attrs:{\"span\":18}},[_c('span',{staticClass:\"header-card-value\"},[_vm._v(_vm._s(_vm.cmdCount))]),_c('br'),_c('span',{staticClass:\"header-card-title\"},[_vm._v(\"任务数\")]),_c('br'),_c('span',{staticClass:\"header-card-desc\"},[_vm._v(\"已注册的任务\")])]),_c('a-col',{attrs:{\"span\":6}},[_c('a-icon',{staticClass:\"header-card-icon\",attrs:{\"type\":\"calendar\"}})],1)],1)],1)],1),_c('a-col',{style:({ marginBottom: '24px' }),attrs:{\"sm\":24,\"md\":12,\"xl\":6}},[_c('a-card',{staticClass:\"header-card\",attrs:{\"bordered\":false}},[_c('a-row',[_c('a-col',{attrs:{\"span\":18}},[_c('span',{staticClass:\"header-card-value\"},[_vm._v(_vm._s(_vm.cmdSuccess))]),_c('br'),_c('span',{staticClass:\"header-card-title\"},[_vm._v(\"成功\")]),_c('br'),_c('span',{staticClass:\"header-card-desc\"},[_vm._v(\"任务成功次数\")])]),_c('a-col',{attrs:{\"span\":6}},[_c('a-icon',{staticClass:\"header-card-icon\",attrs:{\"type\":\"check\"}})],1)],1)],1)],1),_c('a-col',{style:({ marginBottom: '24px' }),attrs:{\"sm\":24,\"md\":12,\"xl\":6}},[_c('a-card',{staticClass:\"header-card\",attrs:{\"bordered\":false}},[_c('a-row',[_c('a-col',{attrs:{\"span\":18}},[_c('span',{staticClass:\"header-card-value\"},[_vm._v(_vm._s(_vm.cmdFailed))]),_c('br'),_c('span',{staticClass:\"header-card-title\"},[_vm._v(\"失败\")]),_c('br'),_c('span',{staticClass:\"header-card-desc\"},[_vm._v(\"任务失败次数\")])]),_c('a-col',{attrs:{\"span\":6}},[_c('a-icon',{staticClass:\"header-card-icon\",attrs:{\"type\":\"close\"}})],1)],1)],1)],1)],1),_c('a-card',{attrs:{\"bordered\":false}},[_c('div',{style:({ marginBottom: '24px' })},[_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"plus\"},on:{\"click\":function($event){return _vm.showEdit('create')}}},[_vm._v(\"创建命令\")])],1),_c('s-table',{ref:\"table\",attrs:{\"rowKey\":\"name\",\"size\":\"default\",\"data-name\":\"cmdList\",\"columns\":_vm.columns,\"handleMethods\":_vm.handleDataList,\"data\":_vm.loadData},scopedSlots:_vm._u([{key:\"name\",fn:function(text){return [(text.length > 10)?_c('a-tooltip',{attrs:{\"title\":text}},[_vm._v(\" \"+_vm._s(text.slice(0, 10) + '...')+\" \")]):_c('span',[_vm._v(_vm._s(text))])]}},{key:\"context\",fn:function(text){return [(text.length > 30)?_c('a-tooltip',{staticStyle:{\"color\":\"#00BFFF\"},attrs:{\"title\":text}},[_vm._v(\" \"+_vm._s(text.slice(0, 30) + '...')+\" \")]):_c('a-tooltip',{staticStyle:{\"color\":\"#00BFFF\"},attrs:{\"title\":text}},[_vm._v(\" \"+_vm._s(text)+\" \")]),_c('a-tooltip',[_c('template',{slot:\"title\"},[_vm._v(_vm._s(_vm.copyTitle))]),_c('a-icon',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(text),expression:\"text\",arg:\"copy\"}],attrs:{\"type\":\"copy\"},on:{\"click\":_vm.copyClick}})],2)]}},{key:\"action\",fn:function(text, record){return [_c('div',[_c('a',{on:{\"click\":function($event){return _vm.execPage(record)}}},[_vm._v(\"执行\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{on:{\"click\":function($event){return _vm.showEdit('edit',record)}}},[_vm._v(\"修改\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{on:{\"click\":function($event){return _vm.logPage(record)}}},[_vm._v(\"日志\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a-popconfirm',{attrs:{\"title\":\"确定要删除吗？\"},on:{\"confirm\":function($event){return _vm.deleteCmd(record)}}},[_c('a-icon',{staticStyle:{\"color\":\"red\"},attrs:{\"slot\":\"icon\",\"type\":\"question-circle-o\"},slot:\"icon\"}),_c('a',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"删除\")])],1)],1)]}}])})],1),_c('edit-mod',{ref:\"editMod\",attrs:{\"visible\":_vm.visible,\"model\":_vm.mdl,\"is-edit\":_vm.isEdit},on:{\"cancel\":_vm.handleCancel,\"success\":_vm.handleOk}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-modal',{staticClass:\"form\",attrs:{\"title\":_vm.isEdit?'修改命令':'创建命令',\"width\":1200,\"visible\":_vm.visible,\"confirmLoading\":_vm.confirmLoading},on:{\"ok\":_vm.submitForm,\"cancel\":_vm.cancel}},[_c('a-form-model',{ref:\"editMod\",attrs:{\"model\":_vm.form,\"rules\":_vm.formRule,\"label-col\":{ span: 4 },\"wrapper-col\":{ span: 18 }}},[_c('a-form-model-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"命令类型\")]),_vm._v(\" SHELL \")]),_c('a-form-model-item',{attrs:{\"prop\":\"name\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"命令名称\")]),_c('a-input',{attrs:{\"placeholder\":\"请输入名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"执行目录\"}},[_c('a-input',{attrs:{\"placeholder\":\"非必填，默认为节点启动目录\"},model:{value:(_vm.form.dir),callback:function ($$v) {_vm.$set(_vm.form, \"dir\", $$v)},expression:\"form.dir\"}})],1),_c('a-form-model-item',{attrs:{\"prop\":\"context\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" 命令内容  \"),_c('a-tooltip',{attrs:{\"title\":_vm.ctx_question_title}},[_c('a-icon',{attrs:{\"type\":\"question-circle-o\"}})],1)],1),_c('a-textarea',{staticStyle:{\"background\":\"#0e0e0e\",\"color\":\"white\"},attrs:{\"auto-size\":{ minRows: 6, maxRows: 10 }},model:{value:(_vm.form.context),callback:function ($$v) {_vm.$set(_vm.form, \"context\", $$v)},expression:\"form.context\"}})],1),_c('a-form-model-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasArgs),expression:\"hasArgs\"}],attrs:{\"label\":\"命令参数\"}},[_vm._l((_vm.form.args),function(v,kk){return [_vm._v(\" \"+_vm._s(kk)+\" \"),_c('a-input',{key:kk,attrs:{\"placeholder\":\"参数值选填，执行时可调整\"},model:{value:(_vm.form.args[kk]),callback:function ($$v) {_vm.$set(_vm.form.args, kk, $$v)},expression:\"form.args[kk]\"}})]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function getCmdContextVar (str) {\n  // 以字母下划线开头，后接数字下划线和字母\n  var patt = new RegExp(/\\{\\{(_*[a-zA-Z]+[_a-zA-Z0-9]*)\\}\\}/g)\n  var mm = {}\n  var rets = str.match(patt)\n  if (rets) {\n    for (let i = 0; i < rets.length; i++) {\n      const name = rets[i].split('{{')[1].split('}}')[0]\n      if (!mm.hasOwnProperty(name)) {\n        mm[name] = ''\n      }\n    }\n  }\n  return mm\n}\n","<template>\n  <a-modal\n    :title=\"isEdit?'修改命令':'创建命令'\"\n    :width=\"1200\"\n    :visible=\"visible\"\n    :confirmLoading=\"confirmLoading\"\n    @ok=\"submitForm\"\n    @cancel=\"cancel\"\n    class=\"form\"\n  >\n    <a-form-model\n      ref=\"editMod\"\n      :model=\"form\"\n      :rules=\"formRule\"\n      :label-col=\"{ span: 4 }\"\n      :wrapper-col=\"{ span: 18 }\"\n    >\n\n      <a-form-model-item>\n        <span slot=\"label\">命令类型</span>\n        SHELL\n      </a-form-model-item>\n\n      <a-form-model-item\n        prop=\"name\"\n      >\n        <span slot=\"label\">命令名称</span>\n        <a-input\n          v-model=\"form.name\"\n          placeholder=\"请输入名称\"\n        />\n      </a-form-model-item>\n\n      <a-form-model-item\n        label=\"执行目录\"\n      >\n        <a-input\n          v-model=\"form.dir\"\n          placeholder=\"非必填，默认为节点启动目录\"\n        />\n      </a-form-model-item>\n\n      <a-form-model-item prop=\"context\" >\n        <span slot=\"label\">\n          命令内容&nbsp;\n          <a-tooltip :title=\"ctx_question_title\">\n            <a-icon type=\"question-circle-o\" />\n          </a-tooltip>\n        </span>\n        <a-textarea\n          v-model=\"form.context\"\n          :auto-size=\"{ minRows: 6, maxRows: 10 }\"\n          style=\"background: #0e0e0e; color: white\"\n        />\n      </a-form-model-item>\n\n      <a-form-model-item\n        label=\"命令参数\"\n        v-show=\"hasArgs\"\n      >\n        <template v-for=\"(v,kk) in form.args\" >\n          {{ kk }}\n          <a-input\n            :key=\"kk\"\n            v-model=\"form.args[kk]\"\n            placeholder=\"参数值选填，执行时可调整\"\n          />\n        </template>\n      </a-form-model-item>\n    </a-form-model>\n  </a-modal>\n</template>\n\n<script>\nimport { cmdCreate, cmdUpdate } from '@/api/command'\nimport { getCmdContextVar } from '@/utils/strReg'\nexport default {\n  name: 'EditMod',\n  props: {\n    visible: {\n      type: Boolean,\n      required: true\n    },\n    isEdit: {\n      type: Boolean,\n      required: true\n    },\n    model: {\n      type: Object,\n      default: () => null\n    }\n  },\n  data: function () {\n  return {\n        ctx_question_title: '可在命令中设置变量值，以{{key}}的形式表示',\n        confirmLoading: false,\n        hasArgs: false,\n        form: {\n          id: 0,\n          name: '',\n          dir: '',\n          context: '',\n          args: {}\n        },\n        formRule\n      }\n  },\n  watch: {\n    model: {\n      handler (nv) {\n        this.hasArgs = false\n        if (nv && nv.id) { // 编辑\n          this.form = { ...nv }\n        } else {\n          this.form = { name: '', dir: '', context: '', args: {} }\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    'form.context' (nval, oval) {\n      if (nval) {\n      const nm = getCmdContextVar(nval)\n      const args = {}\n      for (const k in nm) {\n        args[k] = ''\n        if (this.form.args.hasOwnProperty(k)) {\n          args[k] = this.form.args[k]\n        }\n      }\n      this.form.args = args\n      // console.log(nm, args, this.form.args, Object.keys(this.form.args).length)\n      if (Object.keys(this.form.args).length > 0) {\n          this.hasArgs = true\n      } else {\n        this.hasArgs = false\n      }\n      }\n    }\n  },\n  methods: {\n    submitForm () {\n      this.$refs.editMod.validate(valid => {\n        if (valid) {\n          this.confirmLoading = true\n          const args = { ...this.form }\n          if (this.isEdit) {\n            cmdUpdate(args)\n              .then(res => {\n                this.$emit('success')// 通知外部页面 添加成功\n              })\n              .catch(e => { })\n              .finally(e => {\n                this.confirmLoading = false\n              })\n          } else {\n            cmdCreate(args)\n              .then(res => {\n                this.$emit('success')// 通知外部页面 添加成功\n              })\n              .catch(e => { })\n              .finally(e => {\n                this.confirmLoading = false\n              })\n            }\n        } else {\n          this.confirmLoading = false\n        }\n      })\n    },\n    cancel () {\n      this.$refs.editMod.resetFields()\n      this.$emit('cancel')\n    }\n  }\n}\n\nconst formRule = {\n  name: [{ required: true, message: '命令名称', trigger: 'change' }],\n  context: [{ required: true, message: '命令内容', trigger: 'change' }]\n}\n</script>\n<style lang=\"less\" scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMod.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMod.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditMod.vue?vue&type=template&id=395738dc&scoped=true&\"\nimport script from \"./EditMod.vue?vue&type=script&lang=js&\"\nexport * from \"./EditMod.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"395738dc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <a-row :gutter=\"24\">\n      <a-col :sm=\"24\" :md=\"12\" :xl=\"6\" :style=\"{ marginBottom: '24px' }\" >\n        <a-card class=\"header-card\" :bordered=\"false\">\n          <a-row>\n            <a-col :span=\"18\">\n              <span class=\"header-card-value\">{{ onlineNodeCnt }}/{{ nodes.length }}</span><br/>\n              <span class=\"header-card-title\">在线/总数</span><br/>\n              <span class=\"header-card-desc\">已注册的节点数</span>\n            </a-col>\n            <a-col :span=\"6\"><a-icon class=\"header-card-icon\" type=\"cloud-server\"/> </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n      <a-col :sm=\"24\" :md=\"12\" :xl=\"6\" :style=\"{ marginBottom: '24px' }\">\n        <a-card class=\"header-card\" :bordered=\"false\">\n          <a-row>\n            <a-col :span=\"18\">\n              <span class=\"header-card-value\">{{ cmdCount }}</span><br/>\n              <span class=\"header-card-title\">任务数</span><br/>\n              <span class=\"header-card-desc\">已注册的任务</span>\n            </a-col>\n            <a-col :span=\"6\"><a-icon class=\"header-card-icon\" type=\"calendar\"/> </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n      <a-col :sm=\"24\" :md=\"12\" :xl=\"6\" :style=\"{ marginBottom: '24px' }\">\n        <a-card class=\"header-card\" :bordered=\"false\">\n          <a-row>\n            <a-col :span=\"18\">\n              <span class=\"header-card-value\">{{ cmdSuccess }}</span><br/>\n              <span class=\"header-card-title\">成功</span><br/>\n              <span class=\"header-card-desc\">任务成功次数</span>\n            </a-col>\n            <a-col :span=\"6\"><a-icon class=\"header-card-icon\" type=\"check\"/> </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n      <a-col :sm=\"24\" :md=\"12\" :xl=\"6\" :style=\"{ marginBottom: '24px' }\">\n        <a-card class=\"header-card\" :bordered=\"false\">\n          <a-row>\n            <a-col :span=\"18\">\n              <span class=\"header-card-value\">{{ cmdFailed }}</span><br/>\n              <span class=\"header-card-title\">失败</span><br/>\n              <span class=\"header-card-desc\">任务失败次数</span>\n            </a-col>\n            <a-col :span=\"6\"><a-icon class=\"header-card-icon\" type=\"close\"/> </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n    </a-row>\n\n    <a-card :bordered=\"false\">\n      <div :style=\"{ marginBottom: '24px' }\">\n        <a-button\n          type=\"primary\"\n          @click=\"showEdit('create')\"\n          icon=\"plus\"\n        >创建命令</a-button>\n      </div>\n\n      <s-table\n        rowKey=\"name\"\n        ref=\"table\"\n        size=\"default\"\n        data-name=\"cmdList\"\n        :columns=\"columns\"\n        :handleMethods=\"handleDataList\"\n        :data=\"loadData\"\n      >\n        <template slot=\"name\" slot-scope=\"text\" >\n          <a-tooltip v-if=\"text.length > 10\" :title=\"text\">\n            {{ text.slice(0, 10) + '...' }}\n          </a-tooltip>\n          <span v-else>{{ text }}</span>\n        </template>\n        <template slot=\"context\" slot-scope=\"text\" >\n          <a-tooltip v-if=\"text.length > 30\" :title=\"text\" style=\"color:#00BFFF\">\n            {{ text.slice(0, 30) + '...' }}\n          </a-tooltip>\n          <a-tooltip v-else :title=\"text\" style=\"color:#00BFFF\">\n            {{ text }}\n          </a-tooltip>\n          <a-tooltip >\n            <template slot=\"title\">{{ copyTitle }}</template>\n            <a-icon\n              type=\"copy\"\n              v-clipboard:copy=\"text\"\n              @click=\"copyClick\"/>\n          </a-tooltip>\n        </template>\n\n        <template slot=\"action\" slot-scope=\"text, record\">\n          <div >\n            <a @click=\"execPage(record)\">执行</a>\n            <a-divider type=\"vertical\" />\n            <a @click=\"showEdit('edit',record)\">修改</a>\n            <a-divider type=\"vertical\" />\n            <a @click=\"logPage(record)\">日志</a>\n            <a-divider type=\"vertical\" />\n            <a-popconfirm title=\"确定要删除吗？\" @confirm=\"deleteCmd(record)\">\n              <a-icon slot=\"icon\" type=\"question-circle-o\" style=\"color: red\" />\n              <a style=\"color:red;\">删除</a>\n            </a-popconfirm>\n          </div>\n        </template>\n      </s-table>\n    </a-card>\n\n    <edit-mod\n      ref=\"editMod\"\n      :visible=\"visible\"\n      :model=\"mdl\"\n      :is-edit=\"isEdit\"\n      @cancel=\"handleCancel\"\n      @success=\"handleOk\"\n    ></edit-mod>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport { STable } from '@/components'\nimport { cmdList, cmdDelete } from '@/api/command'\nimport { nodeList } from '@/api/node'\nimport EditMod from './modal/EditMod'\n\nexport default {\n  name: 'CmdList',\n  components: {\n    STable,\n    EditMod\n  },\n  data () {\n    return {\n      columns,\n      // 查询条件参数\n      // name: '',\n      // 加载数据方法 必须为 Promise 对象\n      loadData: parameter => {\n       // const requestParameters = { keyword: this.name, ...parameter } //如果要查询要这样写\n        return cmdList(parameter).then(res => {\n          console.log(res)\n          this.cmdCount = res.totalCount\n          this.cmdSuccess = res.success\n          this.cmdFailed = res.failed\n          return res\n        })\n      },\n      // 编辑/新增模态框相关\n      visible: false,\n      confirmLoading: false,\n      isEdit: true,\n      mdl: null,\n      copyTitle: '复制',\n\n      nodes: [],\n      onlineNodeCnt: 0,\n      cmdCount: 0,\n      cmdSuccess: 0,\n      cmdFailed: 0\n    }\n  },\n  mounted () {\n    this.getNodeList()\n  },\n  methods: {\n    getNodeList () {\n      this.nodes = []\n      this.onlineNodeCnt = 0\n      const args = { pageNo: 1, pageSize: 1000 }\n      nodeList(args)\n        .then(res => {\n          this.nodes = res.nodeList\n          for (const idx in res.nodeList) {\n            const v = res.nodeList[idx]\n            if (v.online) {\n              this.onlineNodeCnt += 1\n            }\n          }\n        })\n    },\n    handleDataList (list) {\n      const tabList = list.map((item) => {\n        return {\n          ...item\n        }\n      })\n      return tabList\n    },\n    handleOk () {\n      this.$refs.table.refresh()\n            this.visible = false\n      this.mdl = {}\n    },\n    handleCancel () {\n      this.visible = false\n      this.mdl = {}\n    },\n    showEdit (opation, record) {\n      this.visible = true\n      if (opation === 'edit') {\n        this.isEdit = true\n        this.mdl = { ...record }\n      } else {\n        this.isEdit = false\n        this.mdl = {}\n      }\n    },\n    execPage (record) {\n      this.$router.push({ name: 'cmdexec', params: { record: { ...record } } })\n    },\n    logPage (record) {\n      this.$router.push({ name: 'cmdlog', params: { id: record.id, name: record.name } })\n    },\n    deleteCmd (record) {\n      cmdDelete({ id: record.id })\n        .then(res => {\n          this.$refs.table.refresh()\n        })\n        .catch(e => { })\n        .finally(e => {\n          this.loading = false\n        })\n    },\n    copyClick () {\n      this.copyTitle = '复制成功'\n      setTimeout(() => {\n        this.copyTitle = '复制'\n      }, 1500)\n    }\n  }\n}\nconst columns = [\n  {\n    title: '命令名称',\n    dataIndex: 'name',\n    scopedSlots: { customRender: 'name' }\n  },\n  {\n    title: '命令内容',\n    dataIndex: 'context',\n    scopedSlots: { customRender: 'context' }\n  },\n  {\n    title: '执行次数',\n    align: 'center',\n    customRender: (text) => text + ' 次',\n    dataIndex: 'call_no'\n  },\n  {\n    title: '创建时间',\n    dataIndex: 'create_at',\n    customRender: (text) => moment.unix(text).format('YYYY-MM-DD HH:mm:ss')\n  },\n  {\n    title: '最后修改人',\n    dataIndex: 'user'\n  },\n  {\n    title: '最后修改时间',\n    dataIndex: 'update_at',\n    customRender: (text) => moment.unix(text).format('YYYY-MM-DD HH:mm:ss')\n  },\n  {\n    title: '操作',\n    scopedSlots: { customRender: 'action' }\n  }\n]\n</script>\n\n<style lang=\"less\" scoped>\nbody{\n  min-width:1500px;\n}\n.header-card-value{\n  font-size:30px;\n  color:#7B7B7B;\n}\n\n.header-card-title{\n  font-size:20px;\n  color:#9D9D9D;\n}\n\n.header-card-icon{\n  font-size:60px;\n  color:#9D9D9D;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CmdList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CmdList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CmdList.vue?vue&type=template&id=6ba6bfea&scoped=true&\"\nimport script from \"./CmdList.vue?vue&type=script&lang=js&\"\nexport * from \"./CmdList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CmdList.vue?vue&type=style&index=0&id=6ba6bfea&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ba6bfea\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\n\nconst cmdApi = {\n  cmdList: 'cmd/list',\n  cmdCreate: 'cmd/create',\n  cmdDelete: 'cmd/delete',\n  cmdUpdate: 'cmd/update',\n  cmdExec: 'cmd/exec',\n  cmdLog: 'cmd/log'\n}\n\n/**\n * login func\n * parameter: {\n *     username: '',\n *     password: '',\n *     remember_me: true,\n *     captcha: '12345'\n * }\n * @param parameter\n * @returns {*}\n */\nexport function cmdList (parameter) {\n  return request({\n    url: cmdApi.cmdList,\n    method: 'post',\n    data: parameter\n  })\n}\n\nexport function cmdCreate (parameter) {\n  return request({\n    url: cmdApi.cmdCreate,\n    method: 'post',\n    data: parameter\n  })\n}\n\nexport function cmdDelete (parameter) {\n  return request({\n    url: cmdApi.cmdDelete,\n    method: 'post',\n    data: parameter\n  })\n}\n\nexport function cmdUpdate (parameter) {\n  return request({\n    url: cmdApi.cmdUpdate,\n    method: 'post',\n    data: parameter\n  })\n}\n\nexport function cmdExec (timeout, parameter) {\n  return request({\n    url: cmdApi.cmdExec,\n    method: 'post',\n    timeout: timeout,\n    data: parameter\n  })\n}\n\nexport function cmdLog (parameter) {\n  return request({\n    url: cmdApi.cmdLog,\n    method: 'post',\n    data: parameter\n  })\n}\n"],"sourceRoot":""}